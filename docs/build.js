!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["link-input"]=t():e["link-input"]=t()}(self,function(){return function(){"use strict";const e="list__question",t="list__question_opened",n="list__answer_opened",o="data-index",l=(l,s=null)=>{const c={openedIndex:s};l.addEventListener("click",t=>{const{target:n}=t;if(!(n instanceof HTMLDivElement))return;const l=n.closest(`.${e}`);if(!l)return;const s=parseInt(l.getAttribute(o),10);var d;(d={openedIndex:c.openedIndex===s?null:s}).openedIndex!==c.openedIndex&&(c.openedIndex=d.openedIndex,r())});const r=()=>{if(Array.from(l.getElementsByClassName(n)).forEach(e=>{e.classList.remove(n),e.style.height="0px"}),Array.from(l.getElementsByClassName(t)).forEach(e=>{e.classList.remove(t)}),null!==c.openedIndex){l.querySelector(`.${e}[${o}='${c.openedIndex}']`).classList.add(t);const s=l.querySelector(`.list__answer[${o}='${c.openedIndex}']`);s.classList.add(n),s.style.height=`${s.scrollHeight}px`}};r()},s="horizontal-scroll__control",c=new Map,r=(e,{direction:t,infinite:n=!1,controls:o=!1})=>{const l={direction:t,isActive:!1};if(!(e instanceof HTMLDivElement))return;n&&(e.innerHTML=e.innerHTML.repeat(10));const r=document.createElement("div");if(r.classList.add("horizontal-scroll"),e.parentElement.appendChild(r),r.appendChild(e),e.classList.add("horizontal-scroll__cards"),o){const t=document.createElement("div");t.classList.add(s,"horizontal-scroll__control_left");const n=document.createElement("div");n.classList.add(s,"horizontal-scroll__control_right"),e.appendChild(t),e.appendChild(n),t.addEventListener("mouseenter",()=>{l.direction="right",m()}),t.addEventListener("mouseleave",()=>{u()}),n.addEventListener("mouseenter",()=>{l.direction="left",m()}),n.addEventListener("mouseleave",()=>{u()}),r.appendChild(n),r.appendChild(t)}const d=e.scrollWidth-e.clientWidth;e.scrollLeft=d/2;const i=(t,n)=>{(e=>{const t=c.get(e),n=Date.now();if(t&&n-t.timestamp<2e3)return t.result;const o=e.getBoundingClientRect(),l=Math.max(document.documentElement.clientHeight,window.innerHeight),s=!(o.bottom<0||o.top-l>=0);return c.set(e,{timestamp:n,result:s}),s})(e)&&("left"===n&&(t>=d-10&&(e.scrollLeft=0),e.scrollLeft+=1),"right"===n&&(t<=10&&(e.scrollLeft=d),e.scrollLeft-=1))},a=()=>{const t=e.scrollLeft;if("left"===l.direction){if(requestAnimationFrame(()=>i(t,"left")),!l.isActive)return;setTimeout(()=>a(),20)}if("right"===l.direction){if(requestAnimationFrame(()=>i(t,"right")),!l.isActive)return;setTimeout(()=>a(),20)}},m=()=>{l.isActive=!0,a()},u=()=>{l.isActive=!1};return{start:m,stop:u,changeDirection:e=>{l.direction=e}}},d="data-replace-bg-image-src",i="data-modal-content",a="modal__control",m="modal__control_left",u="modal__control_right",_="spoiler__title",f="spoiler__title_opened",p="spoiler__content_opened";return(()=>{const e={isScrolled:!1};document.addEventListener("scroll",()=>{const n=0!==window.scrollY;n!==e.isScrolled&&(e.isScrolled=n,t())});const t=()=>{const t=[{element:document.body.querySelector(".header"),scrollClass:"header_scrolled"},{element:document.body.querySelector(".header__logo"),scrollClass:"header__logo_scrolled"},{element:document.body.querySelector(".header__logo__agu"),scrollClass:"header__logo__agu_scrolled"},{element:document.body.querySelector(".header__logo__arcs"),scrollClass:"header__logo__arcs_scrolled"},{element:document.body.querySelector(".header__logo__family"),scrollClass:"header__logo__family_scrolled"},{element:document.body.querySelector(".header__logo__forum"),scrollClass:"header__logo__forum_scrolled"}];e.isScrolled?t.forEach(({element:e,scrollClass:t})=>e.classList.add(t)):t.forEach(({element:e,scrollClass:t})=>e.classList.remove(t))};t()})(),document.body.addEventListener("click",e=>{const{target:t}=e;if(!(t instanceof HTMLElement))return;const n=t.closest(`[${d}]`);if(!n)return;const o=n.getAttribute(d),l=n.getAttribute("data-replace-bg-target"),s=document.body.querySelector(l);s&&s instanceof HTMLElement&&(s.style.backgroundImage=`url('${o}')`)}),(()=>{const e={modal:null,close:null,content:null,dialog:null,modalsContainer:null,modals:[]};document.body.addEventListener("click",t=>{const{target:n}=t;if(!(n instanceof HTMLElement))return;const o=n.closest(`[${i}]`);if(!o)return;const l=o.getAttribute("data-modal-bg-color"),s=o.getAttribute(i),c=document.body.querySelector(s);if(!c)return;if(!(c instanceof HTMLElement))return;e.modalsContainer=c.parentElement,e.modals=Array.from(c.parentElement.children),e.content=c;const r=document.createElement("div");r.classList.add("modal"),r.style.backgroundColor=l;const d=document.createElement("div");d.classList.add("modal__wrapper"),r.appendChild(d);const _=document.createElement("div");if(_.classList.add("modal__close"),d.appendChild(_),e.modals.length>1){const e=document.createElement("div");e.classList.add(a,m);const t=document.createElement("div");t.classList.add(a,u),d.appendChild(e),d.appendChild(t)}const f=document.createElement("div");e.dialog=f,f.classList.add("modal__dialog"),d.appendChild(f),f.appendChild(c),document.body.appendChild(r),e.modal=r,e.close=_}),document.body.addEventListener("click",t=>{const{target:n}=t;n instanceof HTMLElement&&n===e.close&&(e.modalsContainer.innerHTML="",e.modals.forEach(t=>e.modalsContainer.appendChild(t)),e.modal.remove())}),document.body.addEventListener("click",t=>{const{target:n}=t;if(!(n instanceof HTMLElement))return;if(!n.closest(`.${m}`))return;const o=e.modals.findIndex(t=>t===e.content),l=0===o?e.modals.length-1:o-1;e.dialog.removeChild(e.content),e.content=e.modals[l],e.dialog.appendChild(e.content)}),document.body.addEventListener("click",t=>{const{target:n}=t;if(!(n instanceof HTMLElement))return;if(!n.closest(`.${u}`))return;const o=e.modals.findIndex(t=>t===e.content),l=o===e.modals.length-1?0:o+1;e.dialog.removeChild(e.content),e.content=e.modals[l],e.dialog.appendChild(e.content)})})(),(e=>{const t={isOpened:!1};e.addEventListener("click",e=>{const{target:o}=e;var l;o instanceof HTMLDivElement&&(o.closest(`.${_}`)&&(l={isOpened:!t.isOpened}).isOpened!==t.isOpened&&(t.isOpened=l.isOpened,n()))});const n=()=>{const n=e.querySelector(".spoiler__content"),o=e.querySelector(`.${_}`);if(n instanceof HTMLElement){if(t.isOpened)return n.classList.add(p),o.classList.add(f),void(n.style.height=`${n.scrollHeight}px`);n.style.height="0",n.classList.remove(p),o.classList.remove(f)}}})(document.querySelector(".spoiler")),(()=>{const e=document.querySelector("#first-faq");e&&e instanceof HTMLDivElement&&l(e,0)})(),(()=>{const e=document.querySelector(".block-cases__cards");e&&e instanceof HTMLDivElement&&r(e,{direction:"left",infinite:!0,controls:!0})})(),(()=>{const e=document.querySelector(".block-teachers__cards");e&&e instanceof HTMLDivElement&&r(e,{direction:"left",infinite:!0,controls:!0})})(),(()=>{const e=document.querySelector(".block-review__cards");e&&e instanceof HTMLDivElement&&r(e,{direction:"left",infinite:!0,controls:!0})})(),(()=>{const e=document.querySelector(".block-partners__faq-list");e&&e instanceof HTMLDivElement&&l(e,1)})(),(()=>{const e=document.querySelector(".block-video__top .block-video__cards");e&&e instanceof HTMLDivElement&&r(e,{direction:"left",infinite:!0}).start()})(),(()=>{const e=document.querySelector(".block-video__bottom .block-video__cards");e&&e instanceof HTMLDivElement&&r(e,{direction:"right",infinite:!0}).start()})(),{}}()});