!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["link-input"]=t():e["link-input"]=t()}(self,function(){return function(){"use strict";const e="list__question",t="list__question_opened",n="list__answer_opened",o="data-index",l=(l,s=null)=>{const r={openedIndex:s};l.addEventListener("click",t=>{const{target:n}=t;if(!(n instanceof HTMLDivElement))return;const l=n.closest(`.${e}`);if(!l)return;const s=parseInt(l.getAttribute(o),10);var i;(i={openedIndex:r.openedIndex===s?null:s}).openedIndex!==r.openedIndex&&(r.openedIndex=i.openedIndex,c())});const c=()=>{if(Array.from(l.getElementsByClassName(n)).forEach(e=>{e.classList.remove(n),e.style.height="0px"}),Array.from(l.getElementsByClassName(t)).forEach(e=>{e.classList.remove(t)}),null!==r.openedIndex){l.querySelector(`.${e}[${o}='${r.openedIndex}']`).classList.add(t);const s=l.querySelector(`.list__answer[${o}='${r.openedIndex}']`);s.classList.add(n),s.style.height=`${s.scrollHeight}px`}};c()},s="horizontal-scroll__control",r=new Map,c=(e,{direction:t,infinite:n=!1,controls:o=!1})=>{const l={direction:t,isActive:!1};if(!(e instanceof HTMLDivElement))return;n&&(e.innerHTML=e.innerHTML.repeat(10));const c=document.createElement("div");if(c.classList.add("horizontal-scroll"),e.parentElement.appendChild(c),c.appendChild(e),e.classList.add("horizontal-scroll__cards"),o){const t=document.createElement("div");t.classList.add(s,"horizontal-scroll__control_left");const n=document.createElement("div");n.classList.add(s,"horizontal-scroll__control_right"),e.appendChild(t),e.appendChild(n),t.addEventListener("mouseenter",()=>{l.direction="right",m()}),t.addEventListener("mouseleave",()=>{u()}),n.addEventListener("mouseenter",()=>{l.direction="left",m()}),n.addEventListener("mouseleave",()=>{u()}),c.appendChild(n),c.appendChild(t)}const i=e.scrollWidth-e.clientWidth;e.scrollLeft=i/2;const d=(t,n)=>{(e=>{const t=r.get(e),n=Date.now();if(t&&n-t.timestamp<2e3)return t.result;const o=e.getBoundingClientRect(),l=Math.max(document.documentElement.clientHeight,window.innerHeight),s=!(o.bottom<0||o.top-l>=0);return r.set(e,{timestamp:n,result:s}),s})(e)&&("left"===n&&(t>=i-10&&(e.scrollLeft=0),e.scrollLeft+=1),"right"===n&&(t<=10&&(e.scrollLeft=i),e.scrollLeft-=1))},a=()=>{const t=e.scrollLeft;if("left"===l.direction){if(requestAnimationFrame(()=>d(t,"left")),!l.isActive)return;setTimeout(()=>a(),20)}if("right"===l.direction){if(requestAnimationFrame(()=>d(t,"right")),!l.isActive)return;setTimeout(()=>a(),20)}},m=()=>{l.isActive=!0,a()},u=()=>{l.isActive=!1};return{start:m,stop:u,changeDirection:e=>{l.direction=e}}},i="data-replace-bg-image-src",d="data-modal-content",a="modal__control",m="modal__control_left",u="modal__control_right",_="spoiler__title",f="spoiler__title_opened",p="spoiler__content_opened";return(()=>{const e={isScrolled:!1};document.addEventListener("scroll",()=>{const n=0!==window.scrollY;n!==e.isScrolled&&(e.isScrolled=n,t())});const t=()=>{const t=[{element:document.body.querySelector(".header"),scrollClass:"header_scrolled"},{element:document.body.querySelector(".header__logo"),scrollClass:"header__logo_scrolled"},{element:document.body.querySelector(".header__logo__agu"),scrollClass:"header__logo__agu_scrolled"},{element:document.body.querySelector(".header__logo__arcs"),scrollClass:"header__logo__arcs_scrolled"},{element:document.body.querySelector(".header__logo__family"),scrollClass:"header__logo__family_scrolled"},{element:document.body.querySelector(".header__logo__forum"),scrollClass:"header__logo__forum_scrolled"}];e.isScrolled?t.forEach(({element:e,scrollClass:t})=>e.classList.add(t)):t.forEach(({element:e,scrollClass:t})=>e.classList.remove(t))};t()})(),document.body.addEventListener("click",e=>{const{target:t}=e;if(!(t instanceof HTMLElement))return;const n=t.closest(`[${i}]`);if(!n)return;const o=n.getAttribute(i),l=n.getAttribute("data-replace-bg-target"),s=document.body.querySelector(l);s&&s instanceof HTMLElement&&(s.style.backgroundImage=`url('${o}')`)}),(()=>{const e={modal:null,close:null,content:null,dialog:null,modalsContainer:null,modals:[]};let t={isOpen:!1,backgroundColor:"",contentQuery:"",index:0};const n=e=>{const n=Object.assign(Object.assign({},t),e);JSON.stringify(n)!==JSON.stringify(t)&&(!t.isOpen&&e.isOpen?(t=n,o()):(t=n,l()))},o=()=>{const n=document.body.querySelector(t.contentQuery);if(!n)return;if(!(n instanceof HTMLElement))return;e.modalsContainer=n.parentElement,e.modals=Array.from(n.parentElement.children),e.content=n;const o=document.createElement("div");o.classList.add("modal"),o.style.backgroundColor=t.backgroundColor;const l=document.createElement("div");l.classList.add("modal__wrapper"),o.appendChild(l);const s=document.createElement("div");if(s.classList.add("modal__close"),l.appendChild(s),e.modals.length>1){const e=document.createElement("div");e.classList.add(a,m);const t=document.createElement("div");t.classList.add(a,u),l.appendChild(e),l.appendChild(t)}const r=document.createElement("div");e.dialog=r,r.classList.add("modal__dialog"),l.appendChild(r),r.appendChild(n),document.body.appendChild(o),e.modal=o,e.close=s},l=()=>{if(!t.isOpen)return e.modalsContainer.innerHTML="",e.modals.forEach(t=>e.modalsContainer.appendChild(t)),void e.modal.remove();e.dialog.removeChild(e.content),e.content=e.modals[t.index],e.dialog.appendChild(e.content)};document.body.addEventListener("click",e=>{const{target:t}=e;if(!(t instanceof HTMLElement))return;const o=t.closest(`[${d}]`);if(!o)return;const l=o.getAttribute("data-modal-bg-color"),s=o.getAttribute(d),r=document.body.querySelector(s);if(!r)return;if(!(r instanceof HTMLElement))return;const c=Array.from(r.parentElement.children).findIndex(e=>e===r);l&&s&&n({isOpen:!0,backgroundColor:l,contentQuery:s,index:c})}),document.body.addEventListener("click",t=>{const{target:o}=t;o instanceof HTMLElement&&o===e.close&&n({isOpen:!1})}),document.body.addEventListener("click",o=>{const{target:l}=o;if(!(l instanceof HTMLElement))return;if(!l.closest(`.${m}`))return;const s=0===t.index?e.modals.length-1:t.index-1;n({index:s})}),document.body.addEventListener("click",o=>{const{target:l}=o;if(!(l instanceof HTMLElement))return;if(!l.closest(`.${u}`))return;const s=t.index===e.modals.length-1?0:t.index+1;n({index:s})})})(),(e=>{const t={isOpened:!1};e.addEventListener("click",e=>{const{target:o}=e;var l;o instanceof HTMLDivElement&&(o.closest(`.${_}`)&&(l={isOpened:!t.isOpened}).isOpened!==t.isOpened&&(t.isOpened=l.isOpened,n()))});const n=()=>{const n=e.querySelector(".spoiler__content"),o=e.querySelector(`.${_}`);if(n instanceof HTMLElement){if(t.isOpened)return n.classList.add(p),o.classList.add(f),void(n.style.height=`${n.scrollHeight}px`);n.style.height="0",n.classList.remove(p),o.classList.remove(f)}}})(document.querySelector(".spoiler")),(()=>{const e=document.querySelector("#first-faq");e&&e instanceof HTMLDivElement&&l(e,0)})(),(()=>{const e=document.querySelector(".block-cases__cards");e&&e instanceof HTMLDivElement&&c(e,{direction:"left",infinite:!0,controls:!0})})(),(()=>{const e=document.querySelector(".block-teachers__cards");e&&e instanceof HTMLDivElement&&c(e,{direction:"left",infinite:!0,controls:!0})})(),(()=>{const e=document.querySelector(".block-review__cards");e&&e instanceof HTMLDivElement&&c(e,{direction:"left",infinite:!0,controls:!0})})(),(()=>{const e=document.querySelector(".block-partners__faq-list");e&&e instanceof HTMLDivElement&&l(e,1)})(),(()=>{const e=document.querySelector(".block-video__top .block-video__cards");e&&e instanceof HTMLDivElement&&c(e,{direction:"left",infinite:!0}).start()})(),(()=>{const e=document.querySelector(".block-video__bottom .block-video__cards");e&&e instanceof HTMLDivElement&&c(e,{direction:"right",infinite:!0}).start()})(),{}}()});