!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["link-input"]=t():e["link-input"]=t()}(self,function(){return function(){"use strict";const e="list__question",t="list__question_opened",n="list__answer_opened",o="data-index",r=(r,l=null)=>{const s={openedIndex:l};r.addEventListener("click",t=>{const{target:n}=t;if(!(n instanceof HTMLDivElement))return;const r=n.closest(`.${e}`);if(!r)return;const l=parseInt(r.getAttribute(o),10);var d;(d={openedIndex:s.openedIndex===l?null:l}).openedIndex!==s.openedIndex&&(s.openedIndex=d.openedIndex,c())});const c=()=>{if(Array.from(r.getElementsByClassName(n)).forEach(e=>{e.classList.remove(n),e.style.height="0px"}),Array.from(r.getElementsByClassName(t)).forEach(e=>{e.classList.remove(t)}),null!==s.openedIndex){r.querySelector(`.${e}[${o}='${s.openedIndex}']`).classList.add(t);const l=r.querySelector(`.list__answer[${o}='${s.openedIndex}']`);l.classList.add(n),l.style.height=`${l.scrollHeight}px`}};c()},l=.3,s="horizontal-scroll__control",c=new Map,d=(e,{direction:t,infinite:n=!1,controls:o=!1})=>{const r={direction:t,isActive:!1,currentSpeed:0,targetSpeed:0};if(!(e instanceof HTMLDivElement))return;n&&(e.innerHTML=e.innerHTML.repeat(10));const d=document.createElement("div");d.classList.add("horizontal-scroll"),e.parentElement.appendChild(d),d.appendChild(e),e.classList.add("horizontal-scroll__cards");const i=e.scrollWidth-e.clientWidth;e.scrollLeft=i/2;const a=()=>{const t=e.scrollLeft;"left"!==r.direction&&"right"!==r.direction||(requestAnimationFrame(()=>((t,n)=>{(e=>{const t=c.get(e),n=Date.now();if(t&&n-t.timestamp<2e3)return t.result;const o=e.getBoundingClientRect(),r=Math.max(document.documentElement.clientHeight,window.innerHeight),l=!(o.bottom<0||o.top-r>=0);return c.set(e,{timestamp:n,result:l}),l})(e)&&(Math.abs(r.currentSpeed-r.targetSpeed)<l?r.currentSpeed=r.targetSpeed:r.currentSpeed<r.targetSpeed?r.currentSpeed+=l:r.currentSpeed-=l,Math.abs(r.currentSpeed)<l&&!r.isActive?r.currentSpeed=0:("left"===n&&(t>=i-10&&(e.scrollLeft=0),e.scrollLeft+=r.currentSpeed),"right"===n&&(t<=10&&(e.scrollLeft=i),e.scrollLeft-=r.currentSpeed)))})(t,r.direction)),(r.isActive||Math.abs(r.currentSpeed)>l)&&setTimeout(()=>a(),20))},m=e=>{r.direction=e,r.targetSpeed=10,r.isActive||(r.isActive=!0,a())},u=()=>{r.targetSpeed=0};if(o){const t=document.createElement("div");t.classList.add(s,"horizontal-scroll__control_left");const n=document.createElement("div");n.classList.add(s,"horizontal-scroll__control_right"),e.appendChild(t),e.appendChild(n),t.addEventListener("mouseenter",()=>{m("right")}),t.addEventListener("mouseleave",()=>{u()}),n.addEventListener("mouseenter",()=>{m("left")}),n.addEventListener("mouseleave",()=>{u()}),d.appendChild(n),d.appendChild(t)}return{start:()=>m(r.direction),stop:u,changeDirection:e=>{r.direction=e}}},i="data-replace-bg-image-src",a="data-modal-content",m="modal__control",u="modal__control_left",p="modal__control_right",_="spoiler__title",f="spoiler__title_opened",g="spoiler__content_opened";return(()=>{const e={isScrolled:!1};document.addEventListener("scroll",()=>{const n=0!==window.scrollY;n!==e.isScrolled&&(e.isScrolled=n,t())});const t=()=>{const t=[{element:document.body.querySelector(".header"),scrollClass:"header_scrolled"},{element:document.body.querySelector(".header__logo"),scrollClass:"header__logo_scrolled"},{element:document.body.querySelector(".header__logo__agu"),scrollClass:"header__logo__agu_scrolled"},{element:document.body.querySelector(".header__logo__arcs"),scrollClass:"header__logo__arcs_scrolled"},{element:document.body.querySelector(".header__logo__family"),scrollClass:"header__logo__family_scrolled"},{element:document.body.querySelector(".header__logo__forum"),scrollClass:"header__logo__forum_scrolled"}];e.isScrolled?t.forEach(({element:e,scrollClass:t})=>e.classList.add(t)):t.forEach(({element:e,scrollClass:t})=>e.classList.remove(t))};t()})(),document.body.addEventListener("click",e=>{const{target:t}=e;if(!(t instanceof HTMLElement))return;const n=t.closest(`[${i}]`);if(!n)return;const o=n.getAttribute(i),r=n.getAttribute("data-replace-bg-target"),l=document.body.querySelector(r);l&&l instanceof HTMLElement&&(l.style.backgroundImage=`url('${o}')`)}),(()=>{const e={modal:null,close:null,content:null,dialog:null,modalsContainer:null,modals:[]};let t={isOpen:!1,backgroundColor:"",contentQuery:"",index:0};const n=e=>{const n=Object.assign(Object.assign({},t),e);JSON.stringify(n)!==JSON.stringify(t)&&(!t.isOpen&&e.isOpen?(t=n,o()):(t=n,r()))},o=()=>{const n=document.body.querySelector(t.contentQuery);if(!n)return;if(!(n instanceof HTMLElement))return;e.modalsContainer=n.parentElement,e.modals=Array.from(n.parentElement.children),e.content=n;const o=document.createElement("div");o.classList.add("modal"),o.style.backgroundColor=t.backgroundColor;const r=document.createElement("div");r.classList.add("modal__wrapper"),o.appendChild(r);const l=document.createElement("div");if(l.classList.add("modal__close"),r.appendChild(l),e.modals.length>1){const e=document.createElement("div");e.classList.add(m,u);const t=document.createElement("div");t.classList.add(m,p),r.appendChild(e),r.appendChild(t)}const s=document.createElement("div");e.dialog=s,s.classList.add("modal__dialog"),r.appendChild(s),s.appendChild(n),document.body.appendChild(o),e.modal=o,e.close=l},r=()=>{if(!t.isOpen)return e.modalsContainer.innerHTML="",e.modals.forEach(t=>e.modalsContainer.appendChild(t)),void e.modal.remove();e.dialog.removeChild(e.content),e.content=e.modals[t.index],e.dialog.appendChild(e.content)};document.body.addEventListener("click",e=>{const{target:t}=e;if(!(t instanceof HTMLElement))return;const o=t.closest(`[${a}]`);if(!o)return;const r=o.getAttribute("data-modal-bg-color"),l=o.getAttribute(a),s=document.body.querySelector(l);if(!s)return;if(!(s instanceof HTMLElement))return;const c=Array.from(s.parentElement.children).findIndex(e=>e===s);r&&l&&n({isOpen:!0,backgroundColor:r,contentQuery:l,index:c})}),document.body.addEventListener("click",t=>{const{target:o}=t;o instanceof HTMLElement&&o===e.close&&n({isOpen:!1})}),document.body.addEventListener("click",o=>{const{target:r}=o;if(!(r instanceof HTMLElement))return;if(!r.closest(`.${u}`))return;const l=0===t.index?e.modals.length-1:t.index-1;n({index:l})}),document.body.addEventListener("click",o=>{const{target:r}=o;if(!(r instanceof HTMLElement))return;if(!r.closest(`.${p}`))return;const l=t.index===e.modals.length-1?0:t.index+1;n({index:l})})})(),(e=>{const t={isOpened:!1};e.addEventListener("click",e=>{const{target:o}=e;var r;o instanceof HTMLDivElement&&(o.closest(`.${_}`)&&(r={isOpened:!t.isOpened}).isOpened!==t.isOpened&&(t.isOpened=r.isOpened,n()))});const n=()=>{const n=e.querySelector(".spoiler__content"),o=e.querySelector(`.${_}`);if(n instanceof HTMLElement){if(t.isOpened)return n.classList.add(g),o.classList.add(f),void(n.style.height=`${n.scrollHeight}px`);n.style.height="0",n.classList.remove(g),o.classList.remove(f)}}})(document.querySelector(".spoiler")),(()=>{const e=document.querySelector("#first-faq");e&&e instanceof HTMLDivElement&&r(e,0)})(),(()=>{const e=document.querySelector(".block-cases__cards");e&&e instanceof HTMLDivElement&&d(e,{direction:"left",infinite:!0,controls:!0})})(),(()=>{const e=document.querySelector(".block-teachers__cards");e&&e instanceof HTMLDivElement&&d(e,{direction:"left",infinite:!0,controls:!0})})(),(()=>{const e=document.querySelector(".block-review__cards");e&&e instanceof HTMLDivElement&&d(e,{direction:"left",infinite:!0,controls:!0})})(),(()=>{const e=document.querySelector(".block-partners__faq-list");e&&e instanceof HTMLDivElement&&r(e,1)})(),(()=>{const e=document.querySelector(".block-video__top .block-video__cards");e&&e instanceof HTMLDivElement&&d(e,{direction:"left",infinite:!0}).start()})(),(()=>{const e=document.querySelector(".block-video__bottom .block-video__cards");e&&e instanceof HTMLDivElement&&d(e,{direction:"right",infinite:!0}).start()})(),{}}()});